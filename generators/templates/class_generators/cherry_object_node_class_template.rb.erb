#frozen_string_literal:true

# Generated Date: <%= Time.now.strftime('%Y-%m-%d') %>
# Template File:  generators/templates/class_generators/cherry_object_node_class_template.rb.erb
#
# This file was auto-generated by generators/tasks/generate.rb
#
# Please do not modify this file
# Please modify here: <%= "lib/simple_swagger_docs/#{generator.schema_version}/generators/schema/cherry" %>

<% if generator.require_contents.size != 0 %>
  <% generator.require_contents.each do |require_content| %>
require_relative '<%= require_content %>'
  <% end %>
<% end %>

module SimpleSwaggerDocs
  module <%= generator.schema_version.camelize %>
    module Schema
      class <%= generator.class_name %>
        class << self
          def build(openapi_data)
            @openapi_data = openapi_data
            if Set[*default_class_fields].intersect?(Set[*openapi_data.keys])
              default_class.new(openapi_data)
            else
              alternate_class.new(openapi_data)
            end
          end

          def have_patterned_methods?
            false
          end

          private

          def default_class
            <%= generator.default_class %>
          end

          def alternate_class
            <%= generator.alternate_class %>
          end

          def default_class_fields
            default_class.instance_methods
          end
        end
      end
    end
  end
end
